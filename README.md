## Анализ последствий наводнений

**Описание датасета**

папка train:
- images мультиспектральные снимки большие
- masks соотвествующие им бинарные маски
- example_preds это пример предсказаний, чтобы можно было метрики прогнать
- osm карта OpenStreetMap для кусочка на котором будет считаться бизнес метрика

дальше подсчет метрик:
- calculate_metrics.py - принимает пути до файлов и считает много раз взвешенное
1. на вход получает две папки с предиктами и масками и сранивает macro_f1_score
2. на вход получает маску и предикт для двух снимков до и после затопления, а также osm для этой территории - на основе этих данных, вычисляется количество затопленных домов. Далее вычисляется macro_f1_score для ситуации до и отдельно для ситуации после, а результаты усредняются.
3. Усредняется результат первого и второго пункта
- run_calculation.sh - скрипт для запуска py файла, как пример

helper.py - много разных вспомогательных функций. 
- Визуализация
- Деление большого снимка на тайлы, чтобы собрать датасет нужного патча
- Даталодер с паддингами для мультиспектральных данных на pytorch
- Примерный пайплайн, как можно сохранить результаты работы модели


**Предлагается разработать модель для сегментации водной поверхности на основе мультиспектральных данных, а также провести количественную оценку затопленных объектов инфраструктуры.**

***На выходе нужно, чтобы `pipline` прочитал большое изображение, разделил его на части, сделал вывод масок, а затем объединил результат в большую маску и сохранил в geoTiff***

**У нас будут Sentinel-2A снимки с 10 каналами:**

| Name | Description                                          | Resolution |
|------|------------------------------------------------------|------------|
| B02  | Blue, 492.4 nm (S2A), 492.1 nm (S2B)                 | 10m        |
| B03  | Green, 559.8 nm (S2A), 559.0 nm (S2B)                | 10m        |
| B04  | Red, 664.6 nm (S2A), 665.0 nm (S2B)                  | 10m        |
| B05  | Vegetation red edge, 704.1 nm (S2A), 703.8 nm (S2B)  | 20m        |
| B06  | Vegetation red edge, 740.5 nm (S2A), 739.1 nm (S2B)  | 20m        |
| B07  | Vegetation red edge, 782.8 nm (S2A), 779.7 nm (S2B)  | 20m        |
| B08  | NIR, 832.8 nm (S2A), 833.0 nm (S2B)                  | 10m        | 
| B8A  | Narrow NIR, 864.7 nm (S2A), 864.0 nm (S2B)           | 20m        |
| B11  | SWIR, 1613.7 nm (S2A), 1610.4 nm (S2B)               | 20m        |
| B12  | SWIR, 2202.4 nm (S2A), 2185.7 nm (S2B)               | 20m        |

**И маски от 0 до 1:**

0. backgound
1. water
